<!DOCTYPE html>
<html lang="en">
<head>

<title>Road traffic forecast API</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<div class="jumbotron text-center">
    <div class="col-4 mx-auto text-center">
        <img src="{{url_for('static', filename='logo.png')}}" class="rounded-circle" width="214" height="146">
    </div>
	<br>
  <h1>Road Traffic Forecast</h1>
  <p>This is a demo page for the LSTM road traffic forecast project
     hosted on <a href="https://github.com/daniMusli/roadTrafficForecast" target="_blank">github</a> </p>  
  
</div>
  
<div class="container">
  <div class="row">
    <div class="col-sm-6">
      <h4 style="text-align:center">LSTM one day prediction graph</h4>
	  <img src="{{url_for('static', filename='LSTM_oneDay.png')}}" class="img-thumbnail"> 
    </div>
    <div class="col-sm-6">
      <h4 style="text-align:center">GRU one day prediction graph</h4>
	  <img src="{{url_for('static', filename='GRU_oneDay.png')}}" class="img-thumbnail"> 
    </div>
  </div>
  <br>
  <div class="row">
     <div class="col-sm-6">
        <h4 style="text-align:center">LSTM and GRU day prediction graph</h4>
		<img src="{{url_for('static', filename='models_oneDay.png')}}"class="img-thumbnail"> 
    </div>
    <div style="text-align:center;" class="col-sm-6">
      <h4 style="text-align:center"><p>Table results for training both models</p></h4><br>
	  <table style="text-align:center;" class="table table-striped table-hover">
		<thead>
			<tr>
				<th>Metrics</th>
				<th>MAE</th>
				<th>MSE</th>
				<th>RMSE</th>
				<th>MAPE</th>
				<th>R2</th>
				<th>VS</th>

			</tr>
		</thead>
		<tbody>
			<tr>
				<td>LSTM</td>
				<td>7.097</td>
				<td>93.554</td>
				<td>9.672</td>
				<td>17.059</td>
				<td>0.942</td>
				<td>0.942</td>
			</tr>
			<tr>
				<td>GRU</td>
				<td>7.267</td>
				<td>95.928</td>
				<td>9.794</td>
				<td>19.952</td>
				<td>0.940</td>
				<td>0.941</td>
			</tr>
		</tbody>
	 </table>
    </div>
 </div>
 <br>
 <div class="row">
    <div class="col-sm-6">
      <h5 style="text-align:center">Test LSTM and GRU model with your own input.<p style="color:red;"> Available data (for now) from 4-3-2020 to 11-3-2020</p></h5><br>
	  <form action="{{ url_for('main') }}" method="POST" class="needs-validation" novalidate>
		<div class="form-group">
			<label>Enter Date:</label>
			<input type="text" class="form-control"  placeholder="dd/m/yyyy" name="date" required>
			<div class="invalid-feedback">Please fill out this field.</div>
		</div>
		<div class="form-group">
			<label>Enter Time:</label>
			<input type="text" class="form-control"  placeholder="hh:mm" name="time" required>
			<div class="invalid-feedback">Please fill out this field.</div>
		</div>
		<button type="submit" class="btn btn-outline-secondary">Predict</button><br>

	  </form><br>	  
    </div><br>
    <div class="col-sm-6">
		<div class="result" align="center">
		{% if true_val %}
		True number<p style="font-size:40px">{{ true_val }}</p>
		LSTM Predicted Number<p style="font-size:40px;color:green;">{{ pred_val_LSTM }}</p>
		GRU Predicted Number<p style="font-size:40px;color:green;">{{ pred_val_GRU}}</p>
		{% endif %}
		</div>  
	</div><br>

 </div>
</div>
</body>
</html>
